!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){},function(e,t,r){"use strict";r.r(t);r(0);var i=class{constructor(){this.handlers={}}on(e,t){this.handlers[e]?-1==this.handlers[e].indexOf(t)&&this.handlers[e].push(t):this.handlers[e]=new Array(t)}off(e,t){this.handlers[e]&&1===this.handlers[e].length?delete this.handlers[e]:this.handlers[e].splice(this.handlers[e.indexOf(t)],1)}trigger(e,...t){this.handlers[e]&&this.handlers[e].forEach(e=>{e.call(...t)})}};var n=class{constructor(e){this.item=e}showError(){this.item.classList.add("show")}deleteError(){this.item.classList.remove("show")}};var s=class{constructor(e){this.item=e}setRedText(){this.item.classList.add("red-text")}setBlackText(){this.item.classList.remove("red-text")}};let l=document.querySelector(".error"),a=document.querySelector(".input-email"),o=document.querySelector(".list"),d=new i,c=new n(l),m=new s(a),u=new class{constructor(e,t,r){this.emails=["anton@lodoss.team"],this.list=e,this.error=t,this.inputField=r}createEmailItem(e){let t=document.createElement("div"),r=this.createTextTag(e),i=this.createImageTag();return i.addEventListener("click",e=>d.trigger("deleteEmail",this,e)),t.classList.add("email-item"),t.append(r),t.append(i),t}createTextTag(e){let t=document.createElement("p");return t.innerHTML=e,t.classList.add("email-item__text"),t}createImageTag(){let e=document.createElement("img");return e.classList.add("img-cross"),e.setAttribute("alt","cross"),e.setAttribute("src","./src/img/cross.png"),e}renderErrorMsg(){this.error.showError(),this.inputField.setRedText()}removeErrorMsg(){this.error.deleteError(),this.inputField.setBlackText()}addNewEmail(e){this.emails.push(e),d.trigger("newEmailAdded",this)}removeEmail(e){let t=e.target.previousElementSibling.innerHTML;this.emails=this.emails.filter(e=>e!==t),d.trigger("removedEmailItem",this)}checkEnteredEmail(e){if(13===e.keyCode){let t=e.target.value;/(^[a-z0-9\.\-]+@[a-z0-9\.\-]+\.[a-z\.]{2,20}$)/i.test(t)?(d.trigger("correctEmailEntered",this,t),e.target.value=null):d.trigger("incorrectEmailEntered",this)}}renderEmails(){this.list.innerHTML=null;for(let e=0;e<this.emails.length;e++){let t=this.createEmailItem(this.emails[e]);this.list.append(t)}}}(o,c,m);d.on("newEmailEntered",u.checkEnteredEmail),d.on("enteringNewEmail",u.removeErrorMsg),d.on("incorrectEmailEntered",u.renderErrorMsg),d.on("correctEmailEntered",u.addNewEmail),d.on("newEmailAdded",u.renderEmails),d.on("removedEmailItem",u.renderEmails),d.on("deleteEmail",u.removeEmail),m.item.addEventListener("keyup",e=>d.trigger("newEmailEntered",u,e)),m.item.addEventListener("input",e=>d.trigger("enteringNewEmail",u,e)),u.renderEmails()}]);